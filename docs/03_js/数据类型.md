> åœ¨ JavaScript ä¸­ï¼Œæ•°æ®ç±»å‹ä¸»è¦åˆ†ä¸º åŸå§‹ç±»å‹ï¼ˆPrimitive Typesï¼‰ å’Œ å¼•ç”¨ç±»å‹ï¼ˆReference Typesï¼‰ã€‚

#### 1. åŸå§‹ç±»å‹ï¼ˆPrimitive Typesï¼‰

åŸå§‹ç±»å‹æ˜¯ä¸å¯å˜çš„ï¼Œå­˜å‚¨åœ¨æ ˆå†…å­˜ä¸­ï¼Œç›´æ¥å­˜å‚¨å€¼ã€‚

âœ… åŸºæœ¬åŸå§‹ç±»å‹ï¼š

| æ•°æ®ç±»å‹  | è¯´æ˜                                  |
| --------- | ------------------------------------- |
| number    | æ•°å€¼ç±»å‹ï¼ŒåŒ…æ‹¬æ•´æ•°å’Œæµ®ç‚¹æ•°            |
| string    | å­—ç¬¦ä¸²ç±»å‹                            |
| boolean   | å¸ƒå°”å€¼ï¼ˆtrue æˆ– falseï¼‰               |
| undefined | å£°æ˜ä½†æœªèµ‹å€¼çš„å˜é‡                    |
| null      | ç©ºå€¼ï¼Œè¡¨ç¤ºâ€œæ— â€æˆ–â€œç©ºâ€å¯¹è±¡              |
| bigint    | å¤§æ•´æ•°ï¼ˆBigInt(10n)ï¼‰ï¼Œå¯è¡¨ç¤ºè¶…å¤§æ•´æ•° |
| symbol    | å”¯ä¸€å€¼ï¼ˆç”¨äºå¯¹è±¡å±æ€§çš„å”¯ä¸€æ ‡è¯†ï¼‰      |

âœ… ç¤ºä¾‹ï¼š

```js
let num = 42; // number
let str = "hello"; // string
let bool = true; // boolean
let und; // undefined
let n = null; // null
let big = 12345678901234567890n; // bigint
let sym = Symbol("id"); // symbol
```

#### 2. å¼•ç”¨ç±»å‹ï¼ˆReference Typesï¼‰

å¼•ç”¨ç±»å‹å­˜å‚¨çš„æ˜¯å¯¹è±¡çš„åœ°å€ï¼ˆå¼•ç”¨ï¼‰ï¼Œå­˜å‚¨åœ¨å †å†…å­˜ä¸­ï¼Œå˜é‡å­˜å‚¨çš„æ˜¯å¯¹å¯¹è±¡çš„å¼•ç”¨ã€‚

âœ… ä¸»è¦å¼•ç”¨ç±»å‹ï¼š

| æ•°æ®ç±»å‹ | è¯´æ˜                               |
| -------- | ---------------------------------- |
| Object   | å¯¹è±¡                               |
| Array    | æ•°ç»„ï¼ˆå¯¹è±¡çš„ç‰¹æ®Šå½¢å¼ï¼‰             |
| Function | å‡½æ•°ï¼ˆä¹Ÿæ˜¯å¯¹è±¡ï¼‰                   |
| Date     | æ—¥æœŸå¯¹è±¡                           |
| RegExp   | æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡                     |
| Map      | é”®å€¼å¯¹é›†åˆï¼ˆå¯ä½¿ç”¨ä»»ä½•ç±»å‹ä½œä¸ºé”®ï¼‰ |
| Set      | å€¼çš„é›†åˆï¼ˆå€¼å”¯ä¸€ï¼‰                 |

âœ… ç¤ºä¾‹ï¼š

```js
let obj = { name: "Alice", age: 25 }; // Object
let arr = [1, 2, 3]; // Array
let func = function () {
  return "Hi";
}; // Function
let date = new Date(); // Date
let reg = /abc/; // RegExp
let map = new Map(); // Map
let set = new Set([1, 2, 3]); // Set
```

#### 3. typeof åˆ¤æ–­æ•°æ®ç±»å‹

```js
console.log(typeof 42); // "number"
console.log(typeof "hello"); // "string"
console.log(typeof true); // "boolean"
console.log(typeof undefined); // "undefined"
console.log(typeof null); // "object"ï¼ˆJS çš„å†å²é—ç•™ Bugï¼‰
console.log(typeof {}); // "object"
console.log(typeof []); // "object"
console.log(typeof function () {}); // "function"
console.log(typeof Symbol("id")); // "symbol"
console.log(typeof BigInt(10)); // "bigint"
```

#### 4. instanceof åˆ¤æ–­å¼•ç”¨ç±»å‹

```js
console.log([] instanceof Array); // true
console.log({} instanceof Object); // true
console.log(function () {} instanceof Function); // true
console.log(new Date() instanceof Date); // true
console.log(new Map() instanceof Map); // true
```

#### 5. Object.prototype.toString.call() ç²¾ç¡®åˆ¤æ–­

```js
console.log(Object.prototype.toString.call([])); // "[object Array]"
console.log(Object.prototype.toString.call({})); // "[object Object]"
console.log(Object.prototype.toString.call(null)); // "[object Null]"
console.log(Object.prototype.toString.call(undefined)); // "[object Undefined]"
console.log(Object.prototype.toString.call(new Date())); // "[object Date]"
```

#### ğŸ”¹ é‡ç‚¹æ€»ç»“ï¼š

1. åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆ7 ç§ï¼‰ï¼š numberã€stringã€booleanã€undefinedã€nullã€bigintã€symbolã€‚
2. å¼•ç”¨æ•°æ®ç±»å‹ï¼ˆå¯¹è±¡ï¼‰ï¼š Objectã€Arrayã€Functionã€Dateã€RegExpã€Mapã€Set ç­‰ã€‚
3. åˆ¤æ–­æ•°æ®ç±»å‹çš„æ–¹æ³•ï¼š typeofï¼ˆåŸºç¡€åˆ¤æ–­ï¼‰ã€instanceofï¼ˆåˆ¤æ–­æ„é€ å‡½æ•°ï¼‰ã€Object.prototype.toString.call()ï¼ˆæ›´ç²¾å‡†ï¼‰ã€‚

#### æ‹“å±•

âœ… JavaScript æ•°æ®ç±»å‹çš„å­˜å‚¨ä½ç½®

åœ¨ JavaScript ä¸­ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ å’Œ å¼•ç”¨æ•°æ®ç±»å‹ çš„å­˜å‚¨æ–¹å¼æœ‰æ‰€ä¸åŒï¼š

ğŸ”¹ åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå­˜å‚¨åœ¨æ ˆä¸­ï¼‰
åŸºæœ¬æ•°æ®ç±»å‹ (number, string, boolean, undefined, null, bigint, symbol) å­˜å‚¨åœ¨**æ ˆå†…å­˜ï¼ˆStackï¼‰**ä¸­ï¼Œæ•°æ®ç›´æ¥å­˜å‚¨åœ¨å˜é‡è®¿é—®çš„ä½ç½®ã€‚

ç‰¹ç‚¹ï¼š

- ç›´æ¥å­˜å‚¨å€¼æœ¬èº«ã€‚
- èµ‹å€¼æ—¶ï¼Œä¼šå¤åˆ¶å€¼ï¼ˆä¸ä¼šå½±å“åŸå˜é‡ï¼‰ã€‚
- è®¿é—®é€Ÿåº¦å¿«ï¼Œå­˜å‚¨ç©ºé—´å°ã€‚

##### ç¤ºä¾‹ï¼š

```js
let a = 10;
let b = a; // b å¤åˆ¶äº† a çš„å€¼
b = 20;

console.log(a); // 10 ï¼ˆa ä¸å— b å½±å“ï¼‰
console.log(b); // 20
```

ğŸ”¹ å¼•ç”¨æ•°æ®ç±»å‹ï¼ˆå­˜å‚¨åœ¨å †ä¸­ï¼‰

å¼•ç”¨æ•°æ®ç±»å‹ï¼ˆObjectã€Arrayã€Functionã€Mapã€Set ç­‰ï¼‰å­˜å‚¨åœ¨å †å†…å­˜ï¼ˆHeapï¼‰ä¸­ï¼Œè€Œå˜é‡å­˜å‚¨çš„æ˜¯æŒ‡å‘å †å†…å­˜çš„åœ°å€ï¼ˆå¼•ç”¨ï¼‰ã€‚

##### ç‰¹ç‚¹ï¼š

- å˜é‡å­˜å‚¨çš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ï¼ˆå¼•ç”¨ï¼‰ã€‚
- èµ‹å€¼æ—¶ï¼Œå¤åˆ¶çš„æ˜¯åœ°å€ï¼Œå¤šä¸ªå˜é‡æŒ‡å‘åŒä¸€å—å†…å­˜ï¼ˆä¿®æ”¹ä¼šç›¸äº’å½±å“ï¼‰ã€‚
- éœ€è¦æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼ˆåƒåœ¾å›æ”¶æœºåˆ¶ï¼‰ã€‚

##### ç¤ºä¾‹ï¼š

```js
let obj1 = { name: "Alice" };
let obj2 = obj1; // obj2 å¤åˆ¶ obj1 çš„å¼•ç”¨
obj2.name = "Bob"; // ä¿®æ”¹ obj2 ä¹Ÿä¼šå½±å“ obj1

console.log(obj1.name); // "Bob"
console.log(obj2.name); // "Bob"
```

åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œobj1 å’Œ obj2 æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œä¿®æ”¹ obj2 çš„ name ä¹Ÿä¼šå½±å“ obj1ã€‚

âœ… æ ¹æ®æ„é€ å‡½æ•°çš„åç§°è·å–æ•°æ®ç±»å‹

é™¤äº† `typeof` å’Œ `instanceof`ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ å¯¹è±¡çš„ `constructor` å±æ€§ æˆ– `Object.prototype.toString.call()` æ–¹æ³•è·å–ç±»å‹ä¿¡æ¯ã€‚

1ï¸âƒ£ ä½¿ç”¨ constructor

é€‚ç”¨äºå¤§éƒ¨åˆ†å¼•ç”¨ç±»å‹ï¼Œä½† `null` å’Œ `undefined` æ²¡æœ‰ `constructor`ã€‚

```js
let arr = [];
console.log(arr.constructor.name); // "Array"

let obj = {};
console.log(obj.constructor.name); // "Object"

let func = function () {};
console.log(func.constructor.name); // "Function"
```

âš ï¸ ä½†æ˜¯ null å’Œ undefined æ²¡æœ‰ constructor

```js
console.log(null.constructor); // TypeError: Cannot read properties of null
console.log(undefined.constructor); // TypeError: Cannot read properties of undefined
```

2ï¸âƒ£ ä½¿ç”¨ `Object.prototype.toString.call()`ï¼ˆæœ€ç²¾å‡†ï¼‰

`Object.prototype.toString.call(value)` æ˜¯æœ€å¯é çš„æ–¹å¼ï¼Œé€‚ç”¨äºæ‰€æœ‰æ•°æ®ç±»å‹ï¼š

```js
console.log(Object.prototype.toString.call(42)); // "[object Number]"
console.log(Object.prototype.toString.call("hello")); // "[object String]"
console.log(Object.prototype.toString.call(true)); // "[object Boolean]"
console.log(Object.prototype.toString.call(undefined)); // "[object Undefined]"
console.log(Object.prototype.toString.call(null)); // "[object Null]"
console.log(Object.prototype.toString.call([])); // "[object Array]"
console.log(Object.prototype.toString.call({})); // "[object Object]"
console.log(Object.prototype.toString.call(function () {})); // "[object Function]"
console.log(Object.prototype.toString.call(new Date())); // "[object Date]"
console.log(Object.prototype.toString.call(new Map())); // "[object Map]"
console.log(Object.prototype.toString.call(new Set())); // "[object Set]"
```

ä¼˜ç‚¹ï¼š

- é€‚ç”¨äºæ‰€æœ‰æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬ null å’Œ undefinedã€‚
- ä¸ä¼šè¢«åŸå‹é“¾ä¿®æ”¹å½±å“ï¼Œæ¯” constructor æ›´å¯é ã€‚

ğŸ”¹ æ€»ç»“ï¼š

| æ–¹æ³•                             | é€‚ç”¨èŒƒå›´     | é€‚ç”¨äºåŸºæœ¬ç±»å‹ | é€‚ç”¨äºå¤§éƒ¨åˆ†å¼•ç”¨ç±»å‹            | é€‚ç”¨äº null / undefined               | æ˜¯å¦å¯é           |
| -------------------------------- | ------------ | -------------- | ------------------------------- | ------------------------------------- | ----------------- |
| typeof                           | æ‰€æœ‰ç±»å‹     | âœ… æ˜¯          | âš ï¸ ä½† typeof null è¿”å› "object" | âŒ ä¸èƒ½åŒºåˆ† null                      | âŒ                |
| instanceof                       | åªé€‚ç”¨äºå¯¹è±¡ | âŒ å¦          | âœ… æ˜¯                           | âŒ ä¸èƒ½æ£€æµ‹ null å’Œ undefined         | âš ï¸ åŸå‹é“¾å¯è¢«ä¿®æ”¹ |
| constructor                      | åªé€‚ç”¨äºå¯¹è±¡ | âŒ å¦          | âœ… æ˜¯                           | âŒ null å’Œ undefined æ²¡æœ‰ constructor | âš ï¸ åŸå‹é“¾å¯è¢«ä¿®æ”¹ |
| Object.prototype.toString.call() | æ‰€æœ‰ç±»å‹     | âœ… æ˜¯          | âœ… æ˜¯æ˜¯                         | âœ… å¯ä»¥æ­£ç¡®æ£€æµ‹ null å’Œ undefined     | âœ… æœ€å¯é          |

å¦‚æœä½ éœ€è¦æœ€å‡†ç¡®çš„æ–¹å¼ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨ Object.prototype.toString.call()ã€‚ğŸ˜ƒ

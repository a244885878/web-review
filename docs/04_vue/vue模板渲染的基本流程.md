> Vue.js 将模板（template）编译成渲染函数（render function），然后执行渲染函数创建虚拟 DOM（Virtual DOM），再将虚拟 DOM 与真实的 DOM 进行对比，最后将差异更新到真实的 DOM 上，从而实现视图的更新。

#### 整个过程可以分为以下几个步骤：

1. 模板解析：
   - Vue 会将 `template` 标签中的内容解析成一个抽象语法树（AST）。`AST` 是一种树状的数据结构，用来表示代码的语法结构。
   - 每个节点在 `AST` 中都有一个对应的类型，比如元素节点、文本节点、指令节点等。
2. 生成渲染函数：
   - 遍历 `AST`，生成一个 `render` 函数。
   - `render` 函数是一个 JavaScript 函数，它接收一个 `createElement` 函数作为参数，通过调用 `createElement` 函数来创建虚拟 DOM。
   - 虚拟 `DOM` 本质上是一个 `JavaScript` 对象，它描述了页面中每个元素的结构、属性和子节点。
3. 执行渲染函数：
   - 当数据发生变化时，Vue 会重新执行 `render` 函数，生成新的虚拟 `DOM`。
   - 然后 `Vue` 会比较新旧两个虚拟 `DOM`，找出其中的差异。
4. 对比虚拟 DOM：
   - Vue 使用了一种高效的 `Diff` 算法来比较新旧虚拟 `DOM`。
   - `Diff` 算法会找出哪些节点被添加、删除、修改了，以及节点的顺序是否发生了变化。
5. 更新真实 DOM：
   - 根据 `Diff` 算法的结果，Vue 会对真实的 `DOM` 进行最小化的更新，以达到与新的虚拟 `DOM` 保持一致的目的。
   - 这样就实现了数据的双向绑定，当数据发生变化时，视图会自动更新。

#### 总结

Vue 模板渲染的核心思想是：

- 虚拟 DOM： 通过虚拟 `DOM` 来描述页面结构，避免直接操作 `DOM`，提高性能。
- Diff 算法： 采用高效的 `Diff` 算法来比较新旧虚拟 `DOM`，找出差异。
- 最小化更新： 只更新发生变化的部分，减少 `DOM` 操作，提高性能。

#### Vue 模板渲染的优点：

- 性能优异： 虚拟 `DOM` 和 `Diff` 算法使得 `Vue` 的性能非常高。
- 开发体验好： 模板语法简洁直观，易于学习和使用。
- 响应式系统： 数据驱动视图，使得开发更加高效。

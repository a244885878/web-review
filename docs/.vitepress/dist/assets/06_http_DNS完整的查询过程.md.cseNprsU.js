import{_ as e,c as l,o as t,ae as o}from"./chunks/framework.Cthp9TdA.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"06_http/DNS完整的查询过程.md","filePath":"06_http/DNS完整的查询过程.md"}'),i={name:"06_http/DNS完整的查询过程.md"};function r(_,a,c,d,n,h){return t(),l("div",null,a[0]||(a[0]=[o('<blockquote><p>DNS（域名系统）完整的查询过程涉及到一系列步骤，旨在将人类可读的域名（例如 <code>www.example.com</code>）转换为计算机可用的 IP 地址（例如 <code>192.0.2.1</code>）。以下是详细的查询过程：</p></blockquote><h4 id="_1-客户端发起查询" tabindex="-1">1. 客户端发起查询 <a class="header-anchor" href="#_1-客户端发起查询" aria-label="Permalink to &quot;1. 客户端发起查询&quot;">​</a></h4><ul><li>用户在浏览器中输入域名，例如 www.example.com。</li><li>用户的计算机（客户端）需要知道该域名对应的 IP 地址才能建立连接。</li></ul><h4 id="_2-检查本地缓存" tabindex="-1">2. 检查本地缓存 <a class="header-anchor" href="#_2-检查本地缓存" aria-label="Permalink to &quot;2. 检查本地缓存&quot;">​</a></h4><ul><li>客户端首先检查自身的 DNS 缓存，看是否之前已经解析过该域名。如果缓存中存在且未过期，则直接使用缓存中的 IP 地址，查询过程结束。</li></ul><h4 id="_3-查询本地-dns-服务器" tabindex="-1">3. 查询本地 DNS 服务器 <a class="header-anchor" href="#_3-查询本地-dns-服务器" aria-label="Permalink to &quot;3. 查询本地 DNS 服务器&quot;">​</a></h4><ul><li>如果本地缓存中没有找到对应的 IP 地址，客户端会将 DNS 查询请求发送到配置的本地 DNS 服务器（也称为递归解析器）。通常，此服务器由用户的互联网服务提供商 (ISP) 提供，或在本地网络中配置。</li></ul><h4 id="_4-本地-dns-服务器的递归查询" tabindex="-1">4. 本地 DNS 服务器的递归查询 <a class="header-anchor" href="#_4-本地-dns-服务器的递归查询" aria-label="Permalink to &quot;4. 本地 DNS 服务器的递归查询&quot;">​</a></h4><p>本地 DNS 服务器执行以下步骤，以递归方式查找 IP 地址：</p><ul><li>检查自身缓存： 本地 DNS 服务器首先检查其自身的缓存。如果找到匹配的记录，则将其返回给客户端。</li><li>查询根域名服务器： 如果缓存中没有找到记录，本地 DNS 服务器会向根域名服务器发出查询请求。根域名服务器是 DNS 层次结构的顶层，负责管理顶级域名（例如 <code>.com、.org、.net</code>）。</li><li>查询顶级域名服务器： 根域名服务器不会直接返回目标域名的 IP 地址，而是返回负责管理相应顶级域名的顶级域名服务器的地址。例如，如果要查询 www.example.com，根域名服务器会返回管理 .com 域的顶级域名服务器的地址。</li><li>查询权威域名服务器： 本地 DNS 服务器然后向顶级域名服务器发送查询请求。顶级域名服务器会返回负责管理目标域名的权威域名服务器的地址。权威域名服务器拥有目标域名的完整 DNS 记录。</li><li>查询权威域名服务器（最终查询）： 最后，本地 DNS 服务器向权威域名服务器发送查询请求。权威域名服务器会在其区域文件中查找 www.example.com 的记录，并返回相应的 IP 地址。</li></ul><h4 id="_5-返回结果" tabindex="-1">5. 返回结果 <a class="header-anchor" href="#_5-返回结果" aria-label="Permalink to &quot;5. 返回结果&quot;">​</a></h4><ul><li>权威域名服务器将 www.example.com 的 IP 地址返回给本地 DNS 服务器。</li><li>本地 DNS 服务器将此 IP 地址缓存一段时间（由记录的 TTL 值指定），然后将其返回给客户端。</li><li>客户端收到 IP 地址后，就可以使用该地址与 Web 服务器建立连接，并加载网页。</li></ul><h4 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h4><p>DNS 查询过程是一个分层、递归的过程，通过一系列服务器的协作，最终将域名解析为 IP 地址。这个过程对于互联网的正常运行至关重要，因为它使用户无需记住复杂的 IP 地址，只需使用易于记忆的域名即可访问网站。</p>',14)]))}const S=e(i,[["render",r]]);export{u as __pageData,S as default};

import{_ as i,c as a,o as e,ae as o}from"./chunks/framework.Cthp9TdA.js";const p=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"06_http/TCP的三次握手和四次挥手.md","filePath":"06_http/TCP的三次握手和四次挥手.md"}'),t={name:"06_http/TCP的三次握手和四次挥手.md"};function r(n,l,_,c,h,s){return e(),a("div",null,l[0]||(l[0]=[o('<h4 id="tcp-三次握手" tabindex="-1">TCP 三次握手 <a class="header-anchor" href="#tcp-三次握手" aria-label="Permalink to &quot;TCP 三次握手&quot;">​</a></h4><p>三次握手是 TCP 协议建立连接的过程，确保双方都准备好进行通信。</p><ol><li>第一次握手（SYN）： <ol><li>客户端发送一个 SYN (synchronize) 包到服务器，请求建立连接。</li><li>这个包中包含客户端的初始序列号 (sequence number)。</li></ol></li><li>第二次握手（SYN-ACK）： <ol><li>服务器收到 SYN 包后，会发送一个 SYN-ACK (synchronize-acknowledgment) 包作为回应。</li><li>这个包中包含服务器的初始序列号，以及对客户端序列号的确认 (acknowledgment number)。</li></ol></li><li>第三次握手（ACK）： <ol><li>客户端收到 SYN-ACK 包后，会发送一个 ACK (acknowledgment) 包。</li><li>这个包包含对服务器序列号的确认。</li></ol></li></ol><p>完成这三次握手后，客户端和服务器就都进入了 ESTABLISHED 状态，可以开始进行数据传输。</p><h5 id="三次握手的作用" tabindex="-1">三次握手的作用 <a class="header-anchor" href="#三次握手的作用" aria-label="Permalink to &quot;三次握手的作用&quot;">​</a></h5><ul><li>确认双方的接收和发送能力： 双方通过交换 SYN 和 SYN-ACK 包，可以确认彼此的接收和发送能力都正常。</li><li>同步序列号： 三次握手可以确保双方的初始序列号是同步的，这对于后续的数据传输和确认非常重要。</li><li>防止旧的连接请求： 三次握手可以防止旧的、失效的连接请求重新出现，避免服务器资源的浪费。</li></ul><h5 id="tcp-四次挥手" tabindex="-1">TCP 四次挥手 <a class="header-anchor" href="#tcp-四次挥手" aria-label="Permalink to &quot;TCP 四次挥手&quot;">​</a></h5><p>四次挥手是 TCP 协议断开连接的过程，确保双方都正常结束通信。</p><ol><li>第一次挥手（FIN）： <ol><li>客户端发送一个 FIN (finish) 包，表示客户端没有数据要发送了，请求关闭连接。</li></ol></li><li>第二次挥手（ACK）： <ol><li>服务器收到 FIN 包后，会发送一个 ACK 包作为回应，表示知道了客户端的关闭请求。</li><li>但服务器可能还有数据要发送，所以此时连接并没有完全关闭。</li></ol></li><li>第三次挥手（FIN）： <ol><li>服务器发送完所有数据后，会发送一个 FIN 包，表示服务器也没有数据要发送了，请求关闭连接。</li></ol></li><li>第四次挥手（ACK）： <ol><li>客户端收到 FIN 包后，会发送一个 ACK 包作为回应，表示同意关闭连接。</li></ol></li></ol><p>完成这四次挥手后，客户端和服务器就都进入了 CLOSED 状态，连接完全断开。</p><h5 id="四次挥手的作用" tabindex="-1">四次挥手的作用 <a class="header-anchor" href="#四次挥手的作用" aria-label="Permalink to &quot;四次挥手的作用&quot;">​</a></h5><ul><li>确保双方都完成数据传输： 四次挥手可以确保双方都完成了数据的发送和接收，避免数据丢失。</li><li>正常关闭连接： 四次挥手可以确保连接正常关闭，释放双方的资源。</li></ul><h4 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h4><p>TCP 三次握手和四次挥手是 TCP 协议中非常重要的两个过程，它们保证了连接的可靠性和数据的完整性。理解这两个过程对于理解 TCP 协议的工作原理非常有帮助。</p>',14)]))}const C=i(t,[["render",r]]);export{p as __pageData,C as default};

> 关键渲染路径（Critical Rendering Path，CRP） 是指浏览器从接收 HTML、CSS、JavaScript 等资源开始，到页面首次渲染完成的过程。优化 CRP 是提升网页性能的关键。

#### 理解关键渲染路径

- 组成部分： HTML 解析、CSSOM 构建、渲染树构建、布局、绘制。
- 影响因素： 资源数量、大小、加载顺序、JavaScript 执行时机。

#### 优化策略

##### 1. 减少关键资源

- 删除非关键资源： 移除不影响首屏渲染的资源。
- 延迟加载： 将非首屏资源延迟加载。
- 异步加载： 将 JavaScript 文件标记为 `async` 或 `defer`，避免阻塞渲染。

##### 2. 优化资源大小

- 压缩： 使用 Gzip、Brotli 等压缩算法。
- 图片优化： 压缩图片、使用 WebP 格式、懒加载。
- 代码精简： 删除冗余代码、合并文件。

##### 3. 优化加载顺序

- 内联关键 CSS： 将影响首屏渲染的 CSS 内联到 HTML 中。
- 最小化 HTTP 请求： 合并文件、使用 CSS Sprites。
- 利用浏览器缓存： 设置缓存头。

##### 4. 优化 JavaScript 执行

- 延迟执行： 将 JavaScript 放置在 body 底部或使用 defer 属性。
- 异步执行： 使用 async 属性。
- 最小化 JavaScript 执行时间： 优化算法、避免重绘重排。

##### 5. 其他优化

- 减少 DOM 操作： 尽量减少 DOM 操作，使用虚拟 DOM。
- 使用 CDN： 加速资源加载。
- 避免重绘重排： 使用 CSS Transform、Opacity 等属性。
- 利用浏览器缓存： 充分利用浏览器缓存。
